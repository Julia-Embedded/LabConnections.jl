<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>System Configuration · LabConnections</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>LabConnections</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">LabConnections</a></li><li><a class="toctext" href="installation.html">Installation Instructions</a></li><li class="current"><a class="toctext" href="systemConfiguration.html">System Configuration</a><ul class="internal"><li><a class="toctext" href="#Configuration-interfaces-1">Configuration interfaces</a></li><li><a class="toctext" href="#Configuration-files-1">Configuration files</a></li><li><a class="toctext" href="#Creating-configurations-1">Creating configurations</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href="systemConfiguration.html">System Configuration</a></li></ul><a class="edit-page" href="https://github.com//tree/a896ac435aa1ba8ddbeecbb871aaad4bc26fbeab/docs/src/systemConfiguration.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>System Configuration</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="System-Configuration-1" href="#System-Configuration-1">System Configuration</a></h1><p>The system configuration is designed easy human readable acceess to IO functionality and for speed in the real-time execution. Many pins may be used for different purposes, as can be seen in the diagram below, and the cofiguring of these pins is done on a low level. All pins are referred to by a generic string &quot;PX.YZ&quot;. For example, the pin &quot;P9.28&quot; may be used in the PWM or the ADC (SPI), but not both simultaneously.</p><p><img src="beaglebone_black_pinmap.png" alt="block diagram"/></p><h2><a class="nav-anchor" id="Configuration-interfaces-1" href="#Configuration-interfaces-1">Configuration interfaces</a></h2><p>The interface to the BB pins is set in the <code>srcBeagleBone/config/*</code> directory. Many pins of the BB may have multiple settings, documented in the <a href="https://gitlab.control.lth.se/labdev/LabConnections.jl/blob/master/src/BeagleBone/config/pins.yml">`pins.yml&#39;</a> interface. Any of the pins listed in this file may be incorporated in configuring a specific process. This is done my creating a new `*.yml&#39; file in the config/ directory, with a set of pins and identifiers.</p><h2><a class="nav-anchor" id="Configuration-files-1" href="#Configuration-files-1">Configuration files</a></h2><p>The configuration file is specified as a dictionary of lists assigned to the case-senstive keys &quot;gpio&quot;, &quot;led&quot;, &quot;pwm&quot;, &quot;adc&quot;, &quot;qed&quot;. Each entry has an assigned list detailing a unique integer, a tuple of pins and a description. When loading such a configuration file, for instance using</p><pre><code class="language-none">`components = YAML.load(open(&quot;example_configuration.yml&quot;))&#39;</code></pre><p>all and specific components of a certain type will be accessed as</p><pre><code class="language-none">`components[&quot;adc&quot;]&#39;</code></pre><p>The unique integer is included for quick referencing of pins in the IO communication on the BB side, the description is used on the HOST side and the tuple of pins is in a human readable string format relating to the BB layout.</p><h2><a class="nav-anchor" id="Creating-configurations-1" href="#Creating-configurations-1">Creating configurations</a></h2><p>For instance, if a system is to be run with (1) two PWM signals, (2) ADC functionality over the SPI, (3) one quadrature encoder, (4) 4 input GPIOs and (5) 2 output GPIOs. These may be chosen as shown in the file <a href="https://gitlab.control.lth.se/labdev/LabConnections.jl/blob/master/src/BeagleBone/config/pins.yml">`example_configuration.yml&#39;</a>.</p><p>This file was created by runnig the <code>create_configuration.jl&#39; script in</code>/utils&#39;, which checks consistency against <a href="https://gitlab.control.lth.se/labdev/LabConnections.jl/blob/master/src/BeagleBone/config/pins.yml">`pins.yml&#39;</a> interactively. This script can be operated by running</p><pre><code class="language-none">`julia create_configuration.jl example_configuration.yml&#39;</code></pre><footer><hr/><a class="previous" href="installation.html"><span class="direction">Previous</span><span class="title">Installation Instructions</span></a></footer></article></body></html>
