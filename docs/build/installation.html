<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Installation Instructions · LabConnections</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>LabConnections</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">LabConnections</a></li><li class="current"><a class="toctext" href="installation.html">Installation Instructions</a><ul class="internal"><li><a class="toctext" href="#On-the-BBB-1">On the BBB</a></li><li><a class="toctext" href="#On-the-HOST-1">On the HOST</a></li><li><a class="toctext" href="#Setting-up-automatic-communication-1">Setting up automatic communication</a></li></ul></li><li><a class="toctext" href="systemConfiguration.html">System Configuration (deprecated)</a></li><li><a class="toctext" href="testing.html">Tests</a></li><li><a class="toctext" href="examples.html">Examples on the BB</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="installation.html">Installation Instructions</a></li></ul><a class="edit-page" href="https://github.com//blob/master/docs/src/installation.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Installation Instructions</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Installation-Instructions-1" href="#Installation-Instructions-1">Installation Instructions</a></h1><h2><a class="nav-anchor" id="On-the-BBB-1" href="#On-the-BBB-1">On the BBB</a></h2><p>On the BeagleBone, first flash it with a Debian image for 32 bit ARM processors (BeagleBoard.org Debian Image 2017-03-19) using a micro-SD by following <a href="http://derekmolloy.ie/write-a-new-image-to-the-beaglebone-black/">this guide</a>. You may also include a Julia v0.6 tarball, alternatively transferring it using after an installation.</p><p>If using the provided SD card, flash the BB by holding down S2 for about 5 seconds while connecting the BB to 5V power. Keep the button pressed until the four system LEDs (D2/D3/D4/D5) start blinking in a periodical sequence. Leave the BB alone for 15-20 minutes while flashing, until all four lights are turned off (or on). Power off the BB, remove the SD card, and power it on again.</p><p>Log on to the BB via SSH by</p><pre><code class="language-none">`ssh debian@192.168.7.2&#39;</code></pre><p>an unpack the tarball. Julia should now be operational by running</p><pre><code class="language-none">`/home/debian/julia-&lt;distro specific tag&gt;/bin/julia&#39;</code></pre><p>and before leaving the BB, remove the distibution specific tag by renaming</p><pre><code class="language-none">`mv /home/debian/julia-&lt;distro specific tag&gt;/bin/julia /home/debian/julia/bin/julia&#39;</code></pre><h2><a class="nav-anchor" id="On-the-HOST-1" href="#On-the-HOST-1">On the HOST</a></h2><p>To get started, first install Julia v0.6.X on the PC running a Linux distribution by following the instructions specified <a href="https://github.com/JuliaLang/julia/blob/master/README.md">here</a>. So far, the system has only been tested on Ubuntu 14.04 and 16.04.</p><p>Once Julia is installed, run</p><pre><code class="language-none">`Pkg.clone(https://gitlab.control.lth.se/labdev/LabConnections.jl)&#39;</code></pre><p>in the Julia prompt to install all dependencies on the HOST, the source code is then located in `./julia/v0.6/LabCOnnections&#39;.</p><p>If you plan on working with the SPI devices to debug the ADC/DAC, then you will need a forked <code>serbus&#39; repository which wraps the</code>linux/spi/spidev&#39;. Simply</p><pre><code class="language-none">`cd &amp;&amp; cd .julia/v0.6&#39;
`git clone https://github.com/mgreiff/serbus&#39;</code></pre><p>to get the latest revision of the serbus fork.</p><p>To update the BB with the latest revision of the code,  </p><pre><code class="language-none">`cd &amp;&amp; cd .julia/v0.6/LabConnection/util&#39;
`./flash_BB.sh&#39;</code></pre><p>This scripts bundles the current code in LabCOnnections and serbus on the host computer and transfers it to the /home/debian/juliapackages directory on the BB.</p><h2><a class="nav-anchor" id="Setting-up-automatic-communication-1" href="#Setting-up-automatic-communication-1">Setting up automatic communication</a></h2><p>To setup automatic start of Julia server on the BB, make sure to have completed all prior installation instructions, and that the lates revision of the LabConnections package is located on the BB. SSH to the BeagleBone and copy the julilaserver.service to the systemd/system</p><pre><code class="language-none">`ssh debian@192.168.7.2&#39;
`sudo cp -r /home/debian/juliapackets/LabConnections/src/BeagleBone/startup/juliaserver.service /lib/systemd/system/juliaserver.service` (on the BeagleBone)</code></pre><p>Then execute the commands</p><p><code>sudo systemctl enable juliaserver</code> (on the BeagleBone) <code>sudo systemctl start juliaserver</code> (on the BeagleBone)</p><p>After a while, the BeagleBone should start blinking on SysLED 2: on-off-on-sleep-repeat. The server should now start automatically on restart of the BeagleBone, and you should be able to run the examples in in /Examples on the host computer.</p><pre><code class="language-"></code></pre><footer><hr/><a class="previous" href="index.html"><span class="direction">Previous</span><span class="title">LabConnections</span></a><a class="next" href="systemConfiguration.html"><span class="direction">Next</span><span class="title">System Configuration (deprecated)</span></a></footer></article></body></html>
